{% extends "bi/base.html" %}
{% load static %}

{% block titulo %} Iniciar Sesión {% endblock %}

{% block statics %}
<link rel="stylesheet" href="{% static 'bi/css/styleLogin.css'%}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
{% endblock %}

{% block classBody %}
{% endblock %}

{% block classDiv %}
class="d-flex align-items-center py-4 fondoLogin"
{% endblock %}

{% block navbar %}

{% endblock %}

{% block contenido %}
<form onsubmit="submitLogin()" method="POST" class="w-100" style="max-width: 400px; margin:auto;">
    {% csrf_token %}
    <div class="card shadow-lg rounded-4 p-4 position-relative formLogin text-light">
        <!-- Contenedor del logo -->
        <div class="d-flex justify-content-center" style="margin-top:-50px;">
            <img src="{% static 'bi/img/logo-fenix-ID.png'%}" alt="Logo Fenix" width="72" height="72"
                class="rounded-circle">
        </div>

        <h1 class="h4 mb-4 text-center fw-bold">Inicio de Sesión</h1>

        <!-- Mensajes de error -->
        <ul class="list-unstyled bg-danger text-light rounded-2 p-2 mb-3" id="error-list" {% if not error1 %} style="display:none;" {% endif %}>
            <li id="e-correo" style="display:none;">E-mail debe tener estrucutra 'ejemplo@fenixing.cl'.</li>
            <li id="e-password" style="display:none;">Contraseña no puede estar vacia.</li>
            {% if error1 %}
            <li id="e-auth">{{ error1 }}</li>
            {% endif %}
        </ul>

        <!-- Correo -->
        <div class="form-floating mb-3">
            <input type="email" name="correoLog" class="form-control" id="floatingInput" placeholder="">
            <label for="floatingInput">Correo</label>
        </div>

        <!-- Contraseña -->
        <div class="form-floating mb-3 position-relative">
            <input type="password" name="contrasenaLog" class="form-control" id="floatingPassword" placeholder="">
            <label for="floatingPassword">Contraseña</label>
            <span class="position-absolute top-50 end-0 translate-middle-y pe-3 cursor-pointer" onclick="verPassword()">
                <i id="eye-icon" class="fa fa-eye text-secondary"></i>
            </span>
        </div>

        <!-- Botón -->
        <button class="btn btn-primary w-100 py-2 fw-bold" id="btnSubmit" type="submit">Iniciar Sesión</button>

        <!-- Pie opcional -->
        <p class="text-center mt-3 mb-0 small text-secondary">
            ¿Olvidaste tu contraseña? <a href="{% url 'recover' %}"
                class="text-light text-decoration-underline">Recuperarla</a>
        </p>
    </div>
</form>

{% endblock %}

{% block footer %}
<script src="{% static 'bi/js/jsLogin.js' %}"></script>
{% endblock %}